Решение развернуто по адресу 95.181.155.24:6060

БД доступна по адресу 95.181.155.24:6061  `postgres\P@ssw0rd` бд называется `test`

по http://95.181.155.24:6060 можно посмотреть само решение

по http://95.181.155.24:6060/swagger весит документация к апи (не особо хорошая)

для запуска на локальной машине, требуется docker и node.js

Для запуска бэкенда достаточно выбрать docker-compose запускаемым проектом в VisualStudio и нажать Run

Для запуска фронтенда нужно выполнить команды 

1) `npm install` \ `yarn install`

2) `npm start` \ `yarn start`



Описание структуры проекта:

`Test.Frontend` - фронтенд (React + TypeScript)

`Test.Backend` - предоставляет апи для работы фронта (.net 5.0, nullable reference type включено) 

`Test.Data` - слой доступа к данным, для создания БД применен подход code-first, в проекте включенны миграции, применен шаблон Repository 

`Test.Services` - сервисы, сюда вынесена логика расчет метрики "Rolling Retention 7 day", а так-же нормализация данных для построения гистограммы распределения длительностей жизней пользователей.

Что можно улучшить:

1) Написать тесты, к сожалению у меня некоторые проблеммы со свободным временем, поэтому их пока нет
2) Добавить виртуализацию для таблицы с пользователями
3) Улучшение документации к апи(примеры вызовов, примеры ответов и тд)


**UPD:**

Замерил производительность основных методов

Измерение производилось с помощью `System.Diagnostics.Stopwatch` для замеров был сгенерированн 1 000 000 пользователей со следующим распределением 

  `LastActivityDate = DateTime.Today.AddDays(rand.Next(0, 10)),`
  
  `RegistrationDate = DateTime.Today.AddDays(rand.Next(-10, 0)),`
  
  1) Получение кол-ва активных пользователь после Х-ого дня из БД(`GetCountActiveUsersAfterAsync`) ~14ms
  2) Получение кол-ва зарегесрированных пользователей ранее чем Х день  из БД(`GetCountUsersWhoRegisteredEarlierThanAsync`) ~29ms
  3) Расчет метрики Rolling Retention X day ~65ms
  4) Получение информации о длительности жизни каждого пользователя  из БД(`GetLifeSpanDaysFromAllUsersAsync`) ~25ms
  5) Создание датасета для отрисовки гистограммы распределения длительностей жизней пользователей (`GetLifeSpanDistributionAsync`) ~320ms
  6) Получение списка всех пользователей  из БД (`GetAllAsync`) ~2500ms
  7) Добавление 3 пользователей в БД (`AddRange`) ~55ms

